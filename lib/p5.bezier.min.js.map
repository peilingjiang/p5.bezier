{"version":3,"file":"p5.bezier.min.js","mappings":"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","sources":["webpack://p5bezier/webpack/universalModuleDefinition","webpack://p5bezier/webpack/bootstrap","webpack://p5bezier/webpack/runtime/define property getters","webpack://p5bezier/webpack/runtime/hasOwnProperty shorthand","webpack://p5bezier/webpack/runtime/make namespace object","webpack://p5bezier/./src/p5.bezier.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"p5bezier\"] = factory();\n\telse\n\t\troot[\"p5bezier\"] = factory();\n})(this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\np5.bezier library by Peiling Jiang\n2020\n\nupdated Aug 2024\n*/\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nwindow.console.log('[p5.bezier] 2024');\n// accuracy 0 - 10, default 7\nvar _p5bezierAccuracyListAll = {\n    0: 0.2,\n    1: 0.1,\n    2: 0.05,\n    3: 0.04,\n    4: 0.02,\n    5: 0.01,\n    6: 0.008,\n    7: 0.002,\n    8: 0.001,\n    9: 0.0005,\n    10: 0.0001,\n};\n// biome-ignore lint/suspicious/noExplicitAny: p5 typing\nvar _canvas;\n// biome-ignore lint/suspicious/noExplicitAny: p5 typing\nvar _ctx;\nvar _dimension;\nvar _useP5;\nvar _beginPath;\nvar _moveTo;\nvar _lineTo;\nvar _closePath;\nvar ENSURED_FACTORIAL_COUNT = 10;\nvar _calculatedFactorials = [1];\nvar _calculatedBinomialCoefficients = {};\n/* -------------------------------------------------------------------------- */\n/* -------------------------------------------------------------------------- */\n/* -------------------------------------------------------------------------- */\n// helpers\n// biome-ignore lint/suspicious/noExplicitAny: p5 typing\nfunction _determineDimension(context, isP3D) {\n    return context.constructor.name === 'WebGLRenderingContext' || isP3D ? 3 : 2;\n}\n// biome-ignore lint/suspicious/noExplicitAny: p5 typing\nfunction _setCanvasFunctions(useP5, canvas, context) {\n    if (useP5) {\n        _beginPath = canvas.beginShape;\n        _moveTo = canvas.vertex;\n        _lineTo = canvas.vertex;\n        _closePath = canvas.endShape;\n    }\n    else {\n        if (context instanceof WebGLRenderingContext) {\n            _beginPath = function () { };\n            _moveTo = function (x, y, z) {\n                if (z === void 0) { z = 0; }\n                return context.vertexAttrib3f(0, x, y, z);\n            };\n            _lineTo = function (x, y, z) {\n                if (z === void 0) { z = 0; }\n                return context.vertexAttrib3f(0, x, y, z);\n            };\n            _closePath = function () { };\n        }\n        else {\n            _beginPath = context.beginPath.bind(context);\n            _moveTo = context.moveTo.bind(context);\n            _lineTo = context.lineTo.bind(context);\n            _closePath = context.closePath.bind(context);\n        }\n    }\n}\nfunction _ensureFactorials(n) {\n    for (var i = _calculatedFactorials.length; i <= n; i++)\n        _calculatedFactorials[i] = i * _calculatedFactorials[i - 1];\n}\n_ensureFactorials(ENSURED_FACTORIAL_COUNT);\nfunction _helper_factorial(i) {\n    return _calculatedFactorials[i];\n}\nfunction _helper_binomialCoefficient(n, i) {\n    return (_helper_factorial(n) / (_helper_factorial(i) * _helper_factorial(n - i)));\n}\nfunction _binomialCoefficient(n, i) {\n    if (i === 0 || i === n)\n        return 1;\n    // _ensureFactorials(n)\n    if (!_calculatedBinomialCoefficients[n])\n        _calculatedBinomialCoefficients[n] = {};\n    if (_calculatedBinomialCoefficients[n][i] !== undefined)\n        return _calculatedBinomialCoefficients[n][i];\n    _calculatedBinomialCoefficients[n][i] = _helper_binomialCoefficient(n, i);\n    return _calculatedBinomialCoefficients[n][i];\n}\nfunction _helper_dist() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    if (args.length === 4)\n        return Math.hypot(args[0] - args[2], args[1] - args[3]);\n    if (args.length === 6)\n        return Math.hypot(args[0] - args[3], args[1] - args[4], args[2] - args[5]);\n    return 0;\n}\nfunction _helper_style() {\n    if (_canvas._doFill)\n        _ctx.fill();\n    if (_canvas._doStroke)\n        _ctx.stroke();\n}\nfunction _deepCopyPoints(arr) {\n    return arr.map(function (v) { return __spreadArray([], v, true); });\n}\nfunction _findCloseCurveExtraPoints(pointList) {\n    var first = pointList[0];\n    var last = pointList[pointList.length - 1];\n    var second = pointList[1];\n    var secondLast = pointList[pointList.length - 2];\n    var point1 = [\n        2 * last[0] - secondLast[0],\n        2 * last[1] - secondLast[1],\n    ];\n    var point2 = [2 * first[0] - second[0], 2 * first[1] - second[1]];\n    return [point1, point2, first];\n}\nfunction _interpolateVertex(v1, v2, t) {\n    if (v1.length === 2 && v2.length === 2)\n        return [v1[0] + (v2[0] - v1[0]) * t, v1[1] + (v2[1] - v1[1]) * t];\n    if (v1.length === 3 && v2.length === 3)\n        return [\n            v1[0] + (v2[0] - v1[0]) * t,\n            v1[1] + (v2[1] - v1[1]) * t,\n            v1[2] + (v2[2] - v1[2]) * t,\n        ];\n    return v2;\n}\n/* -------------------------------------------------------------------------- */\n/* -------------------------------------------------------------------------- */\n/* -------------------------------------------------------------------------- */\n// biome-ignore lint/suspicious/noExplicitAny: p5 typing\nfunction initBezier(canvas) {\n    _canvas = canvas;\n    _ctx = _canvas.drawingContext;\n    if (typeof p5 !== 'undefined' && canvas instanceof p5.Graphics) {\n        _useP5 = true;\n        _dimension = _determineDimension(_ctx, false);\n    }\n    else if ((typeof p5 !== 'undefined' && canvas instanceof p5.Renderer) ||\n        canvas.drawingContext) {\n        _useP5 = false;\n        if (typeof p5 === 'undefined' ||\n            (typeof p5 !== 'undefined' && !(canvas instanceof p5.Renderer)))\n            window.console.warn('[p5.bezier] Support beyond p5.js is not tested');\n        _dimension = _determineDimension(_ctx, canvas.isP3D);\n    }\n    else\n        throw new Error('[p5.bezier] Canvas is not supported.');\n    _setCanvasFunctions(_useP5, _canvas, _ctx);\n}\nfunction newBezier(pointList, closeType, accuracy) {\n    if (closeType === void 0) { closeType = 'OPEN'; }\n    if (accuracy === void 0) { accuracy = 7; }\n    var _pL = _deepCopyPoints(pointList);\n    if (closeType === 'CLOSE') {\n        var closeCurveExtraPoints = _findCloseCurveExtraPoints(_pL);\n        _pL.push.apply(_pL, closeCurveExtraPoints);\n    }\n    var tIncrement = _p5bezierAccuracyListAll[accuracy];\n    var p = _pL.length; // pointList has p points for (p - 1) degree curves\n    var n = p - 1;\n    _ensureFactorials(n);\n    _beginPath();\n    _moveTo.apply(void 0, _pL[0]);\n    if (_dimension === 2) {\n        var x = void 0;\n        var y = void 0;\n        var t = void 0;\n        for (t = 0; t <= 1; t += tIncrement) {\n            x = y = 0;\n            for (var i = 0; i <= n; i++) {\n                var coefficient = _binomialCoefficient(n, i) * Math.pow((1 - t), (n - i)) * Math.pow(t, i);\n                x += coefficient * _pL[i][0];\n                y += coefficient * _pL[i][1];\n            }\n            _lineTo(x, y);\n        }\n    }\n    else if (_dimension === 3) {\n        for (var t = 0; t <= 1; t += tIncrement) {\n            var xyz = [0, 0, 0];\n            for (var i = 0; i <= n; i++) {\n                var coefficient = _binomialCoefficient(n, i) * Math.pow((1 - t), (n - i)) * Math.pow(t, i);\n                for (var d = 0; d < 3; d++)\n                    xyz[d] += coefficient * _pL[i][d];\n            }\n            _lineTo.apply(void 0, xyz);\n        }\n    }\n    _lineTo.apply(void 0, _pL[_pL.length - 1]);\n    if (_useP5)\n        _closePath(closeType);\n    else if (closeType === 'CLOSE')\n        _closePath();\n    _helper_style();\n}\nfunction newBezierObj(pointList, closeType, accuracy) {\n    if (closeType === void 0) { closeType = 'OPEN'; }\n    if (accuracy === void 0) { accuracy = 7; }\n    var increment = _p5bezierAccuracyListAll[accuracy];\n    return new BezierCurve(pointList, closeType, increment, _dimension);\n}\n/* -------------------------------------------------------------------------- */\nvar BezierCurve = /** @class */ (function () {\n    // take pointList, closeType, tIncrement, bezierDimension into constructor\n    function BezierCurve(points, closeType, increment, dimension, vertexList) {\n        var _a;\n        if (vertexList === void 0) { vertexList = null; }\n        this.controlPoints = _deepCopyPoints(points);\n        if (closeType === 'CLOSE') {\n            (_a = this.controlPoints).push.apply(_a, _findCloseCurveExtraPoints(this.controlPoints));\n            this.closeType = 'CLOSE';\n        }\n        else\n            this.closeType = 'OPEN';\n        this.dimension = dimension;\n        this.increment = increment;\n        this.vertexList = [];\n        this.p = this.controlPoints.length; // has p points for (p - 1) degree curves\n        this.n = this.p - 1; // degree\n        // ensure enough factorials are calculated up to this.n\n        _ensureFactorials(this.n);\n        if (vertexList === null)\n            this._buildVertexList();\n        else\n            this.vertexList = __spreadArray([], vertexList, true);\n    }\n    BezierCurve.prototype._buildVertexList = function () {\n        this.vertexList = [];\n        if (this.dimension === 2) {\n            for (var t = 0; t <= 1; t += this.increment) {\n                var x = 0;\n                var y = 0;\n                for (var i = 0; i <= this.n; i++) {\n                    var binomialCoefficient = _binomialCoefficient(this.n, i);\n                    var term = binomialCoefficient * Math.pow((1 - t), (this.n - i)) * Math.pow(t, i);\n                    x += term * this.controlPoints[i][0];\n                    y += term * this.controlPoints[i][1];\n                }\n                this.vertexList.push([x, y]);\n            }\n        }\n        else if (this.dimension === 3) {\n            for (var t = 0; t <= 1; t += this.increment) {\n                var xyz = [0, 0, 0];\n                for (var i = 0; i <= this.n; i++) {\n                    var binomialCoefficient = _binomialCoefficient(this.n, i);\n                    var term = binomialCoefficient * Math.pow((1 - t), (this.n - i)) * Math.pow(t, i);\n                    for (var d = 0; d < 3; d++) {\n                        xyz[d] += term * this.controlPoints[i][d];\n                    }\n                }\n                this.vertexList.push(xyz);\n            }\n        }\n        this._addVertex(this.controlPoints[this.controlPoints.length - 1]);\n        this.dimension = this.vertexList[0].length; // update dimension\n        return this.vertexList;\n    };\n    BezierCurve.prototype._addVertex = function (vArray) {\n        // vArray is an array of [x, y] or [x, y, z]\n        _lineTo.apply(void 0, vArray);\n    };\n    BezierCurve.prototype._distVertex = function (vArray1, vArray2) {\n        if (this.dimension === 3 && vArray1.length === 3 && vArray2.length === 3) {\n            return _helper_dist(vArray1[0], vArray1[1], vArray1[2], vArray2[0], vArray2[1], vArray2[2]);\n        }\n        if (this.dimension === 2) {\n            return _helper_dist(vArray1[0], vArray1[1], vArray2[0], vArray2[1]);\n        }\n        return 0;\n    };\n    BezierCurve.prototype.draw = function (dash) {\n        var _this = this;\n        if (!dash) {\n            _beginPath();\n            this.vertexList.map(function (v) { return _this._addVertex(v); });\n            if (this.closeType === 'CLOSE')\n                _ctx.closePath();\n            if (_useP5)\n                _closePath(this.closeType);\n            else if (this.closeType === 'CLOSE')\n                _closePath();\n            _helper_style();\n        }\n        else {\n            if (this.increment > 0.008) {\n                this.increment = 0.008;\n                window.console.warn('[p5.bezier] Accuracy is changed to 6 for a dash curve');\n            }\n            // draw a dash curve\n            var solidPart = Math.abs(dash[0]);\n            var gapPart = Math.abs(dash[1]);\n            var solid = true;\n            var lastVertex = this.vertexList[0];\n            var toUseVertexInd = 1;\n            var toUseVertex = this.vertexList[toUseVertexInd];\n            var currentVirtualVertex = lastVertex;\n            var availableDist = 0;\n            var neededDist = solid ? solidPart : gapPart;\n            _ctx.save(); // push\n            _ctx.fillStyle = 'rgba(0, 0, 0, 0)'; // TODO\n            _beginPath();\n            _moveTo.apply(void 0, lastVertex);\n            while (toUseVertexInd < this.vertexList.length) {\n                toUseVertex = this.vertexList[toUseVertexInd];\n                var newDist = this._distVertex(lastVertex, toUseVertex);\n                availableDist = newDist;\n                while (availableDist >= neededDist) {\n                    currentVirtualVertex = _interpolateVertex(currentVirtualVertex, toUseVertex, neededDist / availableDist);\n                    if (solid)\n                        _lineTo.apply(void 0, currentVirtualVertex);\n                    else\n                        _moveTo.apply(void 0, currentVirtualVertex);\n                    availableDist -= neededDist;\n                    solid = !solid;\n                    neededDist = solid ? solidPart : gapPart;\n                }\n                // available dist is not enough, used as much as possible\n                if (solid)\n                    _lineTo.apply(void 0, toUseVertex);\n                else\n                    _moveTo.apply(void 0, toUseVertex);\n                var usedDist = this._distVertex(currentVirtualVertex, toUseVertex);\n                neededDist -= usedDist;\n                lastVertex = toUseVertex;\n                currentVirtualVertex = lastVertex;\n                toUseVertexInd++;\n            }\n            _helper_style();\n            _ctx.restore();\n        }\n    };\n    BezierCurve.prototype.update = function (newControlPointList) {\n        if (newControlPointList.length !== this.controlPoints.length) {\n            throw new Error('[p5.bezier] The number of control points changed.');\n        }\n        if (this.controlPoints.every(function (v, i) { return v === newControlPointList[i]; })) {\n            return;\n        }\n        this.controlPoints = newControlPointList;\n        this._buildVertexList();\n    };\n    BezierCurve.prototype.move = function (x, y, z, toDraw, dash) {\n        if (z === void 0) { z = null; }\n        if (toDraw === void 0) { toDraw = true; }\n        if (z === null && this.dimension === 3) {\n            throw new Error('[p5.bezier] X, Y, and Z are needed to move a 3D curve.');\n        }\n        var toMove = [x, y];\n        if (z !== null)\n            toMove.push(z);\n        var newCurveV = this.vertexList.map(function (v) { return v.slice(); });\n        var newCurveObj = new BezierCurve(this.controlPoints, this.closeType, this.increment, this.dimension, newCurveV);\n        newCurveObj.vertexList = newCurveObj.vertexList.map(function (v) { return v.map(function (val, i) { return val + toMove[i]; }); });\n        if (toDraw)\n            newCurveObj.draw(dash);\n        return newCurveObj;\n    };\n    BezierCurve.prototype.shortest = function (pX, pY, pZ) {\n        var _this = this;\n        if (pZ === void 0) { pZ = 0; }\n        var minVertex = [0, 0, 0];\n        var dMin = Number.POSITIVE_INFINITY;\n        this.vertexList.map(function (v) {\n            var nowMin = _this._distVertex(v, [pX, pY, pZ]);\n            if (dMin > nowMin) {\n                dMin = nowMin;\n                minVertex = __spreadArray([], v, true);\n            }\n        });\n        return minVertex;\n    };\n    return BezierCurve;\n}());\nexport { initBezier as init, newBezier as draw, newBezierObj as new };\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","__spreadArray","to","from","pack","arguments","length","ar","i","l","Array","slice","concat","window","console","log","_canvas","_ctx","_dimension","_useP5","_beginPath","_moveTo","_lineTo","_closePath","_p5bezierAccuracyListAll","_calculatedFactorials","_calculatedBinomialCoefficients","_determineDimension","context","isP3D","constructor","name","_ensureFactorials","n","_helper_factorial","_binomialCoefficient","undefined","_helper_binomialCoefficient","_helper_dist","args","_i","Math","hypot","_helper_style","_doFill","fill","_doStroke","stroke","_deepCopyPoints","arr","map","v","_findCloseCurveExtraPoints","pointList","first","last","second","secondLast","initBezier","canvas","drawingContext","p5","Graphics","Renderer","Error","warn","useP5","beginShape","vertex","endShape","WebGLRenderingContext","x","y","z","vertexAttrib3f","beginPath","bind","moveTo","lineTo","closePath","_setCanvasFunctions","newBezier","closeType","accuracy","_pL","closeCurveExtraPoints","push","apply","tIncrement","t","coefficient","pow","xyz","d","newBezierObj","increment","BezierCurve","points","dimension","vertexList","_a","controlPoints","p","_buildVertexList","term","_addVertex","vArray","_distVertex","vArray1","vArray2","draw","dash","v1","v2","_this","solidPart","abs","gapPart","solid","lastVertex","toUseVertexInd","toUseVertex","currentVirtualVertex","availableDist","neededDist","save","fillStyle","restore","update","newControlPointList","every","move","toDraw","toMove","newCurveV","newCurveObj","val","shortest","pX","pY","pZ","minVertex","dMin","Number","POSITIVE_INFINITY","nowMin"],"sourceRoot":""}